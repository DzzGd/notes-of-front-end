<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>数组去重</title>
</head>

<body>
  <script>
    {
      const arr = [1, 2, 3, 4, '1', 2, 3]
      function unique(arr) {
        const tempArr = []
        for (var i = 0, len = arr.length; i < len; i++) {
          for (var j = 0, tempLeh = tempArr.length; j < tempLeh; j++) {
            if (arr[i] === tempArr[j]) {
              break
            }
          }
          if (j === tempArr.length) {
            tempArr.push(arr[i])
          }
        }
        return tempArr
      }
      console.log(unique(arr))
    }
    {
      const arr = [1, 2, 3, 4, '1', 2, 3]
      function unique(arr) {
        const tempArr = []
        for (var i = 0, len = arr.length; i < len; i++) {
          let ret = arr[i]
          if (tempArr.indexOf(ret) === -1) {
            tempArr.push(ret)
          }
        }
        return tempArr
      }
      console.log(unique(arr))
    }
    {
      const arr = [1, 2, 5, 6, 2, 8, 3, 10, 5, 6, 2, 5]
      function unique(arr) {
        const res = []
        const tempArr = arr.concat().sort(function (a, b) {
          return a - b
        })
        let seen = null
        for (var i = 0, len = arr.length; i < len; i++) {
          if (!i || seen !== tempArr[i]) {
            res.push(tempArr[i])
          }
          seen = tempArr[i]
        }
        return res
      }
      console.log(unique(arr))
    }
    {
      var array1 = [1, 2, '1', 2, 1];
      var array2 = [1, 1, '1', 2, 2];
      function unique(arr, isSorted) {
        let res = [],
          seen = []
        for (let i = 0, len = arr.length; i < len; i++) {
          let value = arr[i]
          if (isSorted) {
            if (!i || seen !== value) {
              res.push(value)
            }
            seen = value
          } else {
            if (res.indexOf(value) === -1) {
              res.push(value)
            }
          }
        }
        return res
      }
      console.log(unique(array1))
      console.log(unique(array2, true))
    }
    {
      var array3 = [1, 1, 'a', 'A', 2, 2];
      function unique(arr, isSorted, iteratee) {
        let res = [],
          seen = []
        for (let i = 0, len = arr.length; i < len; i++) {
          let value = arr[i]
          let computed = iteratee ? iteratee(value, i, arr) : value
          if (isSorted) {
            if (!i || seen !== computed) {
              res.push(value)
            }
            seen = computed
          } else if (iteratee) {
            if (seen.indexOf(computed) === -1) {
              seen.push(computed)
              res.push(value)
            }
          } else if (res.indexOf(value) === -1) {
            res.push(value)
          }
        }
        return res
      }
      console.log(unique(array3, false, function (item) {
        return typeof item === 'string' ? item.toUpperCase() : item
      }))
    }
    {
      var array3 = [1, 1, 'a', 'A', 2, 2];
      function unique(arr) {
        return arr.filter((v, index, arr) => {
          return arr.indexOf(v) === index
        })
      }
      console.log(unique(array3))
    }
    {
      var array3 = [1, 1, 'a', 'A', 2, 2];
      function unique(arr) {
        let obj = {}
        return arr.filter((v, index, arr) => {
          return obj.hasOwnProperty(typeof v + v) ? false : (obj[typeof v + v] = true)
        })
      }
      console.log(unique(array3))
    }
    {
      var array = [1, 1, 'a', 'A', 2, 2];
      function unique(arr) {
        return arr.filter((v, index, arr) => {
          return !index || v !== arr[index - 1]
        })
      }
      console.log(unique(array))
    }
    {
      var array = [{value: 1}, {value: 1}, {value: 2}];
      function unique(arr) {
        let obj = {}
        return arr.filter((v, index, arr) => {
          let value = typeof v + JSON.stringify(v)
          return obj[value] ? false : (obj[value] = true)
        })
      }
      console.log(unique(array))
    }
  </script>
</body>

</html>